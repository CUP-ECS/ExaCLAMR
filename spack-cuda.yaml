# Spack environment specification for code needed to run ExaCLAMR on CUDA systems.
# Cabana doesn't build properly on CUDA systems yet (it doesn't use nvcc_wrapper)
# so it hasn't to be built by hand.
spack:
  specs:
    - openmpi@3.1.6+cuda
    - hdf5+mpi
    - silo
    - kokkos std=14 +cuda +cuda_lambda cuda_arch=35 +wrapper +openmp +hwloc +numactl %gcc@9.3.0
#   Cabana with cuda doesn't build properly under spack yet. Have to build nd link by hand.
#   - cabana +openmp +cuda
  concretization: together

# On Xena, add the following packages after creating the environment to use pre-installed 
# support packages instead of building your own using "spack add"
# perl@5.30.3 cmake@3.18.1 cuda@11.0.2
